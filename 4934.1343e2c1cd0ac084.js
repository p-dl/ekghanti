"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4934],{4934:(I,p,i)=>{i.r(p),i.d(p,{TicketModule:()=>M});var Z=i(4466),g=i(1407),r=i(433),f=i(1135),m=i(3955),s=i(4026),d=i(4260),t=i(8256),T=i(9891),l=i(4556),u=i(6895);const _=["formElement"];function h(n,o){if(1&n&&(t.TgZ(0,"ion-select-option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}function x(n,o){1&n&&(t.TgZ(0,"ion-text",26),t._uU(1,"Assigner is required."),t.qZA())}function A(n,o){1&n&&(t.TgZ(0,"ion-text",26),t._uU(1," Group is required."),t.qZA())}function q(n,o){if(1&n&&(t.TgZ(0,"ion-select-option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}function b(n,o){1&n&&(t.TgZ(0,"ion-text",26),t._uU(1,"Asignee is required."),t.qZA())}function O(n,o){1&n&&(t.TgZ(0,"ion-text",26),t._uU(1,"Please select project."),t.qZA())}function k(n,o){1&n&&(t.TgZ(0,"ion-text",26),t._uU(1,"Please enter phone number."),t.qZA())}function v(n,o){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function U(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.assignedBy),t.xp6(2),t.Oqu(e.group),t.xp6(2),t.Oqu(e.assignedTo),t.xp6(2),t.Oqu(e.project),t.xp6(2),t.Oqu(e.vertical),t.xp6(2),t.Oqu(e.subVertical),t.xp6(2),t.Oqu(e.ticketStatus),t.xp6(2),t.Oqu(e.from),t.xp6(2),t.Oqu(e.to),t.xp6(2),t.Oqu(e.customerNumber)}}function C(n,o){if(1&n&&(t.TgZ(0,"table")(1,"thead")(2,"tr"),t.YNc(3,v,2,1,"th",27),t.qZA()(),t.TgZ(4,"tbody"),t.YNc(5,U,23,11,"tr",27),t.ALo(6,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.ths),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,2,e.tableItems))}}class a{constructor(o,e){this.fb=o,this.toast=e,this.ths=[],this.tableItems=new f.X([]),this.errorMessage="",this.assignedBy=m.kr,this.assignees=m.hs,this.selectOptionsForm=this.fb.group({id:a.counter++,assignedBy:["",r.kI.required],group:["",r.kI.required],assignedTo:["",r.kI.required],project:["",r.kI.required],vertical:"",subVertical:"",ticketStatus:"",from:"",to:"",customerNumber:["",r.kI.required]})}onSubmit(o){o.preventDefault(),this.selectOptionsForm.valid&&d.y.addNewTicket(this.selectOptionsForm.value).then(()=>{this.formElement.nativeElement.reset(),this.toast.show("New ticket info added.","success"),this.ths=Object.keys(s.Z.ticketState$.value[0]),this.tableItems.next(s.Z.ticketState$.value)})}onClearAllTickets(){d.y.removeAllTickets().then(()=>{this.tableItems.next([]),this.toast.show("All tickets are cleared.","info")})}ionViewWillEnter(){var o;this.ths=Object.keys(null!==(o=s.Z.ticketState$.value[0])&&void 0!==o?o:[]),this.tableItems.next(s.Z.ticketState$.value)}}a.counter=s.Z.ticketState$.value[s.Z.ticketState$.value.length-1].id+1||5166,a.\u0275fac=function(o){return new(o||a)(t.Y36(r.qu),t.Y36(T.k))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ticket"]],viewQuery:function(o,e){if(1&o&&t.Gf(_,5),2&o){let c;t.iGM(c=t.CRH())&&(e.formElement=c.first)}},decls:66,vars:10,consts:[[3,"formGroup","submit"],["formElement",""],[2,"display","flex","justify-content","flex-end"],["shape","round","type","submit"],[1,"container"],["interface","popover","formControlName","assignedBy","placeholder","---"],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["position","floating"],["formControlName","group","type","text"],["interface","popover","formControlName","assignedTo","placeholder","---",3,"multiple"],["interface","popover","formControlName","project","placeholder","Select Project"],["value","Isuzu"],["value","Aprilia"],["value","Vespa"],["value","Worldlink"],["formControlName","vertical","type","text"],["formControlName","subVertical","type","text"],["formControlName","ticketStatus","type","text"],["formControlName","from","type","text"],["formControlName","to","type","text"],["formControlName","customerNumber","type","string"],["color","warning",3,"click"],[1,"table-container"],[4,"ngIf"],[3,"value"],[1,"error-message"],[4,"ngFor","ngForOf"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-content")(1,"form",0,1),t.NdJ("submit",function(N){return e.onSubmit(N)}),t.TgZ(3,"div",2)(4,"ion-button",3),t._uU(5,"ADD NEW TICKET "),t.qZA()(),t.TgZ(6,"div",4)(7,"ion-item")(8,"ion-label"),t._uU(9,"Assigned By:"),t.qZA(),t.TgZ(10,"ion-select",5),t.YNc(11,h,2,2,"ion-select-option",6),t.qZA(),t.YNc(12,x,2,0,"ion-text",7),t.qZA(),t.TgZ(13,"ion-item")(14,"ion-label",8),t._uU(15,"Group:"),t.qZA(),t._UZ(16,"ion-input",9),t.YNc(17,A,2,0,"ion-text",7),t.qZA(),t.TgZ(18,"ion-item")(19,"ion-label",8),t._uU(20,"Assigned To"),t.qZA(),t.TgZ(21,"ion-select",10),t.YNc(22,q,2,2,"ion-select-option",6),t.qZA(),t.YNc(23,b,2,0,"ion-text",7),t.qZA(),t.TgZ(24,"ion-item")(25,"ion-label"),t._uU(26,"Project:"),t.qZA(),t.TgZ(27,"ion-select",11)(28,"ion-select-option",12),t._uU(29,"Isuzu"),t.qZA(),t.TgZ(30,"ion-select-option",13),t._uU(31,"Aprilia"),t.qZA(),t.TgZ(32,"ion-select-option",14),t._uU(33,"Vespa"),t.qZA(),t.TgZ(34,"ion-select-option",15),t._uU(35,"Worldlink"),t.qZA()(),t.YNc(36,O,2,0,"ion-text",7),t.qZA(),t.TgZ(37,"ion-item")(38,"ion-label",8),t._uU(39,"Vertical"),t.qZA(),t._UZ(40,"ion-input",16),t.qZA(),t.TgZ(41,"ion-item")(42,"ion-label",8),t._uU(43,"Sub-Vertical"),t.qZA(),t._UZ(44,"ion-input",17),t.qZA(),t.TgZ(45,"ion-item")(46,"ion-label",8),t._uU(47,"Ticket Status:"),t.qZA(),t._UZ(48,"ion-input",18),t.qZA(),t.TgZ(49,"ion-item")(50,"ion-label",8),t._uU(51,"From"),t.qZA(),t._UZ(52,"ion-input",19),t.qZA(),t.TgZ(53,"ion-item")(54,"ion-label",8),t._uU(55,"To"),t.qZA(),t._UZ(56,"ion-input",20),t.qZA(),t.TgZ(57,"ion-item")(58,"ion-label",8),t._uU(59,"Customer Number"),t.qZA(),t._UZ(60,"ion-input",21),t.YNc(61,k,2,0,"ion-text",7),t.qZA(),t.TgZ(62,"ion-button",22),t.NdJ("click",function(){return e.onClearAllTickets()}),t._uU(63,"Clear all"),t.qZA()()(),t.TgZ(64,"div",23),t.YNc(65,C,7,4,"table",24),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("formGroup",e.selectOptionsForm),t.xp6(10),t.Q6J("ngForOf",e.assignedBy),t.xp6(1),t.Q6J("ngIf",e.selectOptionsForm.controls.assignedBy.errors),t.xp6(5),t.Q6J("ngIf",e.selectOptionsForm.controls.group.errors),t.xp6(4),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("ngForOf",e.assignees),t.xp6(1),t.Q6J("ngIf",e.selectOptionsForm.controls.assignedTo.errors),t.xp6(13),t.Q6J("ngIf",e.selectOptionsForm.controls.project.errors),t.xp6(25),t.Q6J("ngIf",e.selectOptionsForm.controls.customerNumber.errors),t.xp6(4),t.Q6J("ngIf",e.ths.length))},dependencies:[l.YG,l.W2,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.yW,l.QI,l.j9,r._Y,r.JJ,r.JL,r.sg,r.u,u.sg,u.O5,u.Ov],styles:["ion-select[_ngcontent-%COMP%]{max-width:100%}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr)}@media (max-width: 1199px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 991px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 720px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;border:1px solid #aaa;font-weight:700;text-align:center}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f5f5f5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #aaa;text-align:center}@media only screen and (max-width: 768px){table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;text-align:left}}"]});const P=[{path:"",component:a}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(P),g.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Z.m,y]}),n})()}}]);